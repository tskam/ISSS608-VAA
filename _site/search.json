[
  {
    "objectID": "Take-home_Ex/Take-home_Exercise1/Take-home_Exercise1.html",
    "href": "Take-home_Ex/Take-home_Exercise1/Take-home_Exercise1.html",
    "title": "Take-home Exercise 1",
    "section": "",
    "text": "There are two major residential property market in Singapore, namely public and private housing. Public housing aims to meet the basic need of the general public with monthly household income less than or equal to S$14,000. For families with monthly household income more than S$14,000, they need to turn to the private residential market.\n\n\n\nTo accomplish the task, transaction data of REALIS will be used. A complete set of the private residential property transaction data from 1st January 2023 to 31st March 2024 have been downloaded via SMU e-library database service.\n\n\n\nAssuming the role of a graphical editor of a median company, we prepare minimum two and maximum three data visualisation to reveal the private residential market and sub-markets of Singapore for the 1st quarter of 2024.\n\n\n\n\ntidyverse (i.e. readr, tidyr, dplyr, ggplot2) for performing data science tasks such as importing, tidying, and wrangling data, as well as creating graphics based on The Grammar of Graphics;\n\npacman::p_load(tidyverse, lubridate, ggplot2,patchwork)\n\n\n\n\n\n\nEach read.csv() function loads data from a CSV file into R, creating five separate data frames: data1, data2, data3, data4, and data5. 2.Data Consolidation:\nbind_rows() from the dplyr package merges these five data frames into one large data frame called data. This function stacks the data frames vertically, allowing for an analysis across all data combined. 3.Data Inspection:\nglimpse() provides a quick overview of the combined data frame, showing types of data and a preview of the first few entries in each column, helping to quickly assess the data’s structure and readiness for analysis.\n\ndata1 = read.csv(\"data/ResidentialTransaction20240308160536.csv\")\ndata2 = read.csv(\"data/ResidentialTransaction20240308160736.csv\")\ndata3 = read.csv(\"data/ResidentialTransaction20240308161009.csv\")\ndata4 = read.csv(\"data/ResidentialTransaction20240308161109.csv\")\ndata5 = read.csv(\"data/ResidentialTransaction20240414220633.csv\")\ndata &lt;- bind_rows(data1, data2, data3, data4, data5)\n\nglimpse(data)\n\nRows: 26,806\nColumns: 21\n$ Project.Name                &lt;chr&gt; \"THE REEF AT KING'S DOCK\", \"URBAN TREASURE…\n$ Transacted.Price....        &lt;chr&gt; \"2,317,000\", \"1,823,500\", \"1,421,112\", \"1,…\n$ Area..SQFT.                 &lt;chr&gt; \"882.65\", \"882.65\", \"1,076.4\", \"1,033.34\",…\n$ Unit.Price....PSF.          &lt;chr&gt; \"2,625\", \"2,066\", \"1,320\", \"1,218\", \"1,468…\n$ Sale.Date                   &lt;chr&gt; \"01 Jan 2023\", \"02 Jan 2023\", \"02 Jan 2023…\n$ Address                     &lt;chr&gt; \"12 HARBOURFRONT AVENUE #05-32\", \"205 JALA…\n$ Type.of.Sale                &lt;chr&gt; \"New Sale\", \"New Sale\", \"New Sale\", \"New S…\n$ Type.of.Area                &lt;chr&gt; \"Strata\", \"Strata\", \"Strata\", \"Strata\", \"S…\n$ Area..SQM.                  &lt;chr&gt; \"82\", \"82\", \"100\", \"96\", \"81\", \"308.7\", \"4…\n$ Unit.Price....PSM.          &lt;chr&gt; \"28,256\", \"22,238\", \"14,211\", \"13,105\", \"1…\n$ Nett.Price...               &lt;chr&gt; \"-\", \"-\", \"-\", \"-\", \"-\", \"-\", \"-\", \"-\", \"-…\n$ Property.Type               &lt;chr&gt; \"Condominium\", \"Condominium\", \"Executive C…\n$ Number.of.Units             &lt;int&gt; 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, …\n$ Tenure                      &lt;chr&gt; \"99 yrs from 12/01/2021\", \"Freehold\", \"99 …\n$ Completion.Date             &lt;chr&gt; \"Uncompleted\", \"Uncompleted\", \"Uncompleted…\n$ Purchaser.Address.Indicator &lt;chr&gt; \"HDB\", \"Private\", \"HDB\", \"HDB\", \"HDB\", \"Pr…\n$ Postal.Code                 &lt;int&gt; 97996, 419535, 269343, 269294, 797391, 548…\n$ Postal.District             &lt;int&gt; 4, 14, 27, 27, 28, 19, 10, 15, 5, 25, 15, …\n$ Postal.Sector               &lt;int&gt; 9, 41, 26, 26, 79, 54, 27, 42, 12, 73, 43,…\n$ Planning.Region             &lt;chr&gt; \"Central Region\", \"East Region\", \"North Re…\n$ Planning.Area               &lt;chr&gt; \"Bukit Merah\", \"Bedok\", \"Yishun\", \"Yishun\"…\n\n\n\n\n\nSale.Date is converted to a date format using the dmy() function from the lubridate package, which interprets strings as dates in “day-month-year” format.\nArea..SQM. is transformed into a numeric variable. First, any commas are removed with gsub(“,”, ““, Area..SQM.), then the result is coerced to numeric with as.numeric().\nUnit.Price….PSM. undergoes a similar process as Area..SQM.; however, it also removes the dollar sign ($) before removing commas and converting to numeric.\nAny NA (missing) values in Area..SQM. are replaced with 0 using ifelse(is.na(Area..SQM.), 0, Area..SQM.).\nA new variable Area_Category is created using the cut() function to categorize the Area..SQM. variable into predefined bins: &lt;100, 100-200, 200-300, 300-400, &gt;400.\nThe breaks argument specifies the boundaries for these bins, and labels provides the corresponding category labels.\ninclude.lowest = TRUE ensures that values equal to the lowest break point (0) are included in the first category (&lt;100).\n\ndata_cleaned &lt;- data %&gt;%\n  mutate(\n    `Sale.Date` = dmy(`Sale.Date`),  \n    `Area..SQM.` = as.numeric(gsub(\",\", \"\", `Area..SQM.`)), \n    `Unit.Price....PSM.` = as.numeric(gsub(\"\\\\$\", \"\", gsub(\",\", \"\", `Unit.Price....PSM.`)))  \n  )\n\ndata_cleaned &lt;- data_cleaned %&gt;%\n  mutate(\n    `Area..SQM.` = ifelse(is.na(`Area..SQM.`), 0, `Area..SQM.`)\n  )\n\ndata_cleaned &lt;- data_cleaned %&gt;%\n  mutate(\n    Area_Category = cut(\n      `Area..SQM.`,\n      breaks = c(0, 100, 200, 300, 400, Inf),  \n      labels = c(\"&lt;100\", \"100-200\", \"200-300\", \"300-400\", \"&gt;400\"),\n      include.lowest = TRUE  \n    )\n  )\n\n\n\n\n\n\n\nSale Date:\nThe Sale.Date variable is crucial in housing price analysis for monitoring temporal patterns. It allows analysts to track how prices change over time, revealing trends that may correspond to economic conditions, interest rates, or seasonal fluctuations. By examining the Sale.Date, one can also discern if there are particular times of the year when the market peaks or dips, which can be invaluable for both buyers looking for the best deal and sellers aiming for the optimal listing period.\nArea and Unit Price:\nOn the other hand, Area..SQM. and Unit.Price….PSM. provide spatial and valuation metrics, respectively. The area of a property, often measured in square meters, directly influences its utility and potential for future modifications, affecting its market value. The unit price per square meter standardizes property values, making it possible to compare homes of different sizes and locations fairly. This metric is essential to understand what drives value in the housing market and to identify whether buyers are getting a reasonable price for the area they are purchasing in.\n\nlibrary(tidyverse)\nlibrary(lubridate)\nlibrary(ggplot2)\n\ndata_q1 &lt;- data_cleaned %&gt;%\n  filter(`Sale.Date` &gt;= ymd(\"2024-01-01\"), `Sale.Date` &lt;= ymd(\"2024-03-31\")) %&gt;%\n  mutate(Month = floor_date(`Sale.Date`, \"month\"))\n\navg_price_by_area &lt;- data_q1 %&gt;%\n  group_by(Area_Category, `Sale.Date`) %&gt;%\n  summarise(Avg_Unit_Price_PSM = mean(`Unit.Price....PSM.`, na.rm = TRUE), .groups = \"drop\") # 确保列名正确\n\np_line &lt;- ggplot(avg_price_by_area, aes(x = `Sale.Date`, y = Avg_Unit_Price_PSM, group = Area_Category, color = Area_Category)) +\n  geom_line() +\n  labs(title = \"Daily Average Unit Price ($ PSM) by Area Category (Q1 2024)\",\n       x = \"Date\",\n       y = \"Average Price ($ PSM)\") +\n  theme_minimal() +\n  theme(axis.text.x = element_text(angle = 45, hjust = 1),\n        legend.position = \"bottom\")\n\np_box &lt;- ggplot(data_q1, aes(x = Area_Category, y = `Unit.Price....PSM.`, fill = Area_Category)) +\n  geom_boxplot() +\n  geom_jitter(width = 0.2, alpha = 0.5) +  # 添加点\n  facet_wrap(~Month, scales = \"free_y\") +\n  labs(title = \"Monthly Unit Price ($ PSM) by Area Category (Q1 2024)\",\n       x = \"Area Category\",\n       y = \"Price ($ PSM)\") +\n  theme_minimal() +\n  theme(legend.position = \"bottom\",\n        axis.text.x = element_text(angle = 45, hjust = 1))\n\n\n\nlibrary(patchwork)\np_combined &lt;- p_line / p_box\n\np_combined\n\n\n\n\n\n\n\n\nThe line chart shows daily price volatility in property sizes, with larger areas (&gt;400) being more stable than smaller ones. The overlapping lines suggest a general market trend affecting all sizes. The box plot indicates a quarterly increase in median prices across all categories, with a clear premium for larger properties and greater variability in March, hinting at dynamic market changes as the quarter progresses.\n\n\n\nProject Name:\nThe variable Project.Name represents the specific housing development or project. Analyzing data by Project.Name allows for a detailed understanding of the popularity and demand for specific developments. This can highlight developers’ reputation, location desirability, and unique features of individual projects that may influence prices. Trends can emerge, such as certain developers commanding premium prices or projects in specific locations being more sought-after.\nTotal Units and Avg Unit Price PSM:\nTotal_Units and Avg_Unit_Price_PSM are key metrics for assessing supply and value. Total_Units sold provides insight into the scale of a project and its market absorption rate. High sales volumes can indicate high demand or effective pricing strategies, while low volumes may signal overpricing or less desirable attributes. Avg_Unit_Price_PSM (average unit price per square meter) offers a comparative value indicator that normalizes prices across different sizes and types of properties, reflecting the price point at which the market clears. Analyzing this alongside Total_Units can reveal if there’s a relationship between the number of units sold and the price points, potentially guiding future development and pricing strategies.\n\nproject_stats &lt;- data_cleaned %&gt;%\n  filter(`Project.Name` != \"N.A.\") %&gt;%  \n  group_by(`Project.Name`) %&gt;%\n  summarise(Total_Units = sum(`Number.of.Units`, na.rm = TRUE),\n            Avg_Unit_Price_PSM = mean(`Unit.Price....PSM.`, na.rm = TRUE)) %&gt;%\n  ungroup()\n\ntop_projects &lt;- project_stats %&gt;%\n  top_n(25, Total_Units) %&gt;%\n  arrange(desc(Total_Units))\n\np &lt;- ggplot(top_projects, aes(x = reorder(`Project.Name`, Total_Units))) +\n  geom_bar(aes(y = Total_Units), stat = \"identity\", fill = 'steelblue') +\n  scale_y_continuous(name = \"Total Number of Units\", \n                     sec.axis = sec_axis(~ . / max(top_projects$Avg_Unit_Price_PSM, na.rm = TRUE) * max(top_projects$Total_Units, na.rm = TRUE), \n                                         name = \"Average Unit Price ($ PSM)\")) +\n  geom_line(aes(y = Avg_Unit_Price_PSM / max(top_projects$Avg_Unit_Price_PSM, na.rm = TRUE) * max(top_projects$Total_Units, na.rm = TRUE), group = 1), color = 'darkorange', size = 1) +\n  geom_point(aes(y = Avg_Unit_Price_PSM / max(top_projects$Avg_Unit_Price_PSM, na.rm = TRUE) * max(top_projects$Total_Units, na.rm = TRUE)), color = 'darkorange', size = 3) +\n  labs(title = \"Top 25 Projects by Transaction Volume and Average Price PSM in Singapore (Q1 2024)\",\n       x = \"Project Name\") +\n  theme_minimal() +\n  theme(axis.text.x = element_text(angle = 90, hjust = 1, vjust = 0.5),\n        plot.title = element_text(hjust = 0.5),\n        legend.position = \"none\")\n\nprint(p)\n\n\n\n\n\n\n\n\nThis combined bar and line chart, “Top 25 Projects by Transaction Volume and Average Price PSM in Singapore (Q1 2024)”, plots transaction volumes and average prices for the top 25 real estate projects. The bars represent the total number of units sold per project, while the line indicates the average unit price per square meter (PSM). A noticeable trend is that higher transaction volumes don’t necessarily correlate with higher prices; some projects with substantial sales have moderate prices, suggesting a preference for affordability or other value propositions. Projects like “GRAND RESIDENCES” and “THE RESERVE RESIDENCES” command higher prices despite lower sales volumes, which may indicate a luxury positioning. Conversely, projects with high volume, such as “TREASURE AT TAMPINES”, show more affordability.\n\n\n\nPurchaser Address Indicator:\nThe Purchaser.Address.Indicator variable is likely used to categorize where the buyers are coming from, such as local or international addresses. This information is pivotal for understanding market segmentation. Local and international buyers might have different purchasing powers or preferences, influencing market dynamics. A surge in international buyers, for example, could drive up prices in certain areas or projects, indicating a trend that could be of interest to developers and policy-makers.\nType of Sale:\nType.of.Sale can refer to various forms of property transactions, such as new sales from developers, resales of existing units, or sales of foreclosed properties. Each type of sale can have different implications on the market; for instance, new sales reflect current developer activity and consumer demand for new projects, whereas resales might indicate the liquidity and long-term value in the secondary market. Understanding the proportion and trends in these sales types can provide insights into overall market health and sentiment.\n\ndata_cleaned &lt;- data_cleaned %&gt;%\n  mutate(`Purchaser.Address.Indicator` = as.character(`Purchaser.Address.Indicator`)) %&gt;%\n  filter(`Purchaser.Address.Indicator` != \"N.A.\" & `Purchaser.Address.Indicator` != \"N.A\")\n\ndata_q1 &lt;- data_cleaned %&gt;%\n  filter(`Sale.Date` &gt;= ymd(\"2024-01-01\") & `Sale.Date` &lt;= ymd(\"2024-03-31\"))\n\ndata_q1 &lt;- data_q1 %&gt;%\n  mutate(\n    Area_Cat = case_when(\n      `Area..SQM.` &lt; 100 ~ \"&lt;100\",\n      `Area..SQM.` &gt;= 100 & `Area..SQM.` &lt; 200 ~ \"100-200\",\n      `Area..SQM.` &gt;= 200 & `Area..SQM.` &lt; 300 ~ \"200-300\",\n      `Area..SQM.` &gt;= 300 & `Area..SQM.` &lt; 400 ~ \"300-400\",\n      `Area..SQM.` &gt;= 400 ~ \"&gt;400\"\n    )\n  ) %&gt;%\n  group_by(Area_Cat, `Type.of.Sale`, `Purchaser.Address.Indicator`) %&gt;%\n  summarise(\n    Number_of_Sales = n(),\n    Avg_Price = mean(`Unit.Price....PSM.`, na.rm = TRUE),\n    .groups = 'drop'  \n  ) %&gt;%\n  mutate(Avg_Price_Scaled = Avg_Price / max(Avg_Price) * max(Number_of_Sales))  # 缩放平均价格\n\np &lt;- ggplot(data_q1, aes(x = Area_Cat, y = Number_of_Sales, fill = `Purchaser.Address.Indicator`)) +\n  geom_bar(stat = \"identity\", position = position_dodge()) +\n  geom_line(aes(y = Avg_Price_Scaled, group = `Purchaser.Address.Indicator`, color = `Purchaser.Address.Indicator`), size = 1) +\n  geom_point(aes(y = Avg_Price_Scaled, color = `Purchaser.Address.Indicator`), size = 2) +\n  scale_y_continuous(\n    name = \"Number of Sales\",\n    sec.axis = sec_axis(~ . / max(data_q1$Number_of_Sales) * max(data_q1$Avg_Price), name = \"Average Price ($ PSM)\")\n  ) +\n  labs(title = \"Distribution of Sales by Area Category, Type, and Purchaser Address Indicator (Q1 2024)\",\n       x = \"Area Category (SQM)\",\n       y = \"Number of Sales\") +\n  scale_fill_brewer(palette = \"Set1\") +\n  theme_minimal() +\n  theme(\n    axis.text.x = element_text(angle = 45, hjust = 1),\n    legend.position = \"bottom\"\n  )\n\n\nprint(p)\n\n\n\n\n\n\n\n\nThe chart “Distribution of Sales by Area Category, Type, and Purchaser Address Indicator (Q1 2024)” shows that smaller units (&lt;100 SQM) have high sales volumes, especially for HDB, indicating a demand for affordable housing. In contrast, units over 300 SQM, likely luxury properties, show fewer sales but much higher prices, pointing to a niche market for upscale residences. The data suggests a market divided between high-volume, cost-effective housing and low-volume, high-priced luxury segments.\n\n\n\n\nIn the illustrated housing market, several key factors should guide consumer decisions. The transaction data, segmented by Sale.Date, indicates that property prices fluctuate over time, suggesting that buyers could benefit from understanding seasonal price trends. The Area..SQM. and Unit.Price….PSM. metrics reveal that while larger properties generally command higher per-square-meter prices, there are affordable options in smaller-sized units, which have high transaction volumes. This points to a viable market for buyers seeking budget-friendly housing.\nAdditionally, the diversity in Project.Name and corresponding Total_Units and Avg_Unit_Price_PSM suggests a range of investment opportunities from high-end luxury developments to more modest projects, suitable for different buyer profiles. The Purchaser.Address.Indicator shows an active participation of both local and international buyers, affecting competitiveness and price dynamics. Finally, the Type.of.Sale (new sales, resales) can influence pricing and availability, informing buyers about the market’s liquidity and potential long-term value of properties. Consumers must analyze these aspects to make informed decisions that align with their housing needs and financial capabilities in a competitive market."
  },
  {
    "objectID": "Take-home_Ex/Take-home_Exercise1/Take-home_Exercise1.html#overview",
    "href": "Take-home_Ex/Take-home_Exercise1/Take-home_Exercise1.html#overview",
    "title": "Take-home Exercise 1",
    "section": "",
    "text": "There are two major residential property market in Singapore, namely public and private housing. Public housing aims to meet the basic need of the general public with monthly household income less than or equal to S$14,000. For families with monthly household income more than S$14,000, they need to turn to the private residential market.\n\n\n\nTo accomplish the task, transaction data of REALIS will be used. A complete set of the private residential property transaction data from 1st January 2023 to 31st March 2024 have been downloaded via SMU e-library database service.\n\n\n\nAssuming the role of a graphical editor of a median company, we prepare minimum two and maximum three data visualisation to reveal the private residential market and sub-markets of Singapore for the 1st quarter of 2024."
  },
  {
    "objectID": "Take-home_Ex/Take-home_Exercise1/Take-home_Exercise1.html#setting-the-analytical-tools",
    "href": "Take-home_Ex/Take-home_Exercise1/Take-home_Exercise1.html#setting-the-analytical-tools",
    "title": "Take-home Exercise 1",
    "section": "",
    "text": "tidyverse (i.e. readr, tidyr, dplyr, ggplot2) for performing data science tasks such as importing, tidying, and wrangling data, as well as creating graphics based on The Grammar of Graphics;\n\npacman::p_load(tidyverse, lubridate, ggplot2,patchwork)"
  },
  {
    "objectID": "Take-home_Ex/Take-home_Exercise1/Take-home_Exercise1.html#data-processing",
    "href": "Take-home_Ex/Take-home_Exercise1/Take-home_Exercise1.html#data-processing",
    "title": "Take-home Exercise 1",
    "section": "",
    "text": "Each read.csv() function loads data from a CSV file into R, creating five separate data frames: data1, data2, data3, data4, and data5. 2.Data Consolidation:\nbind_rows() from the dplyr package merges these five data frames into one large data frame called data. This function stacks the data frames vertically, allowing for an analysis across all data combined. 3.Data Inspection:\nglimpse() provides a quick overview of the combined data frame, showing types of data and a preview of the first few entries in each column, helping to quickly assess the data’s structure and readiness for analysis.\n\ndata1 = read.csv(\"data/ResidentialTransaction20240308160536.csv\")\ndata2 = read.csv(\"data/ResidentialTransaction20240308160736.csv\")\ndata3 = read.csv(\"data/ResidentialTransaction20240308161009.csv\")\ndata4 = read.csv(\"data/ResidentialTransaction20240308161109.csv\")\ndata5 = read.csv(\"data/ResidentialTransaction20240414220633.csv\")\ndata &lt;- bind_rows(data1, data2, data3, data4, data5)\n\nglimpse(data)\n\nRows: 26,806\nColumns: 21\n$ Project.Name                &lt;chr&gt; \"THE REEF AT KING'S DOCK\", \"URBAN TREASURE…\n$ Transacted.Price....        &lt;chr&gt; \"2,317,000\", \"1,823,500\", \"1,421,112\", \"1,…\n$ Area..SQFT.                 &lt;chr&gt; \"882.65\", \"882.65\", \"1,076.4\", \"1,033.34\",…\n$ Unit.Price....PSF.          &lt;chr&gt; \"2,625\", \"2,066\", \"1,320\", \"1,218\", \"1,468…\n$ Sale.Date                   &lt;chr&gt; \"01 Jan 2023\", \"02 Jan 2023\", \"02 Jan 2023…\n$ Address                     &lt;chr&gt; \"12 HARBOURFRONT AVENUE #05-32\", \"205 JALA…\n$ Type.of.Sale                &lt;chr&gt; \"New Sale\", \"New Sale\", \"New Sale\", \"New S…\n$ Type.of.Area                &lt;chr&gt; \"Strata\", \"Strata\", \"Strata\", \"Strata\", \"S…\n$ Area..SQM.                  &lt;chr&gt; \"82\", \"82\", \"100\", \"96\", \"81\", \"308.7\", \"4…\n$ Unit.Price....PSM.          &lt;chr&gt; \"28,256\", \"22,238\", \"14,211\", \"13,105\", \"1…\n$ Nett.Price...               &lt;chr&gt; \"-\", \"-\", \"-\", \"-\", \"-\", \"-\", \"-\", \"-\", \"-…\n$ Property.Type               &lt;chr&gt; \"Condominium\", \"Condominium\", \"Executive C…\n$ Number.of.Units             &lt;int&gt; 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, …\n$ Tenure                      &lt;chr&gt; \"99 yrs from 12/01/2021\", \"Freehold\", \"99 …\n$ Completion.Date             &lt;chr&gt; \"Uncompleted\", \"Uncompleted\", \"Uncompleted…\n$ Purchaser.Address.Indicator &lt;chr&gt; \"HDB\", \"Private\", \"HDB\", \"HDB\", \"HDB\", \"Pr…\n$ Postal.Code                 &lt;int&gt; 97996, 419535, 269343, 269294, 797391, 548…\n$ Postal.District             &lt;int&gt; 4, 14, 27, 27, 28, 19, 10, 15, 5, 25, 15, …\n$ Postal.Sector               &lt;int&gt; 9, 41, 26, 26, 79, 54, 27, 42, 12, 73, 43,…\n$ Planning.Region             &lt;chr&gt; \"Central Region\", \"East Region\", \"North Re…\n$ Planning.Area               &lt;chr&gt; \"Bukit Merah\", \"Bedok\", \"Yishun\", \"Yishun\"…\n\n\n\n\n\nSale.Date is converted to a date format using the dmy() function from the lubridate package, which interprets strings as dates in “day-month-year” format.\nArea..SQM. is transformed into a numeric variable. First, any commas are removed with gsub(“,”, ““, Area..SQM.), then the result is coerced to numeric with as.numeric().\nUnit.Price….PSM. undergoes a similar process as Area..SQM.; however, it also removes the dollar sign ($) before removing commas and converting to numeric.\nAny NA (missing) values in Area..SQM. are replaced with 0 using ifelse(is.na(Area..SQM.), 0, Area..SQM.).\nA new variable Area_Category is created using the cut() function to categorize the Area..SQM. variable into predefined bins: &lt;100, 100-200, 200-300, 300-400, &gt;400.\nThe breaks argument specifies the boundaries for these bins, and labels provides the corresponding category labels.\ninclude.lowest = TRUE ensures that values equal to the lowest break point (0) are included in the first category (&lt;100).\n\ndata_cleaned &lt;- data %&gt;%\n  mutate(\n    `Sale.Date` = dmy(`Sale.Date`),  \n    `Area..SQM.` = as.numeric(gsub(\",\", \"\", `Area..SQM.`)), \n    `Unit.Price....PSM.` = as.numeric(gsub(\"\\\\$\", \"\", gsub(\",\", \"\", `Unit.Price....PSM.`)))  \n  )\n\ndata_cleaned &lt;- data_cleaned %&gt;%\n  mutate(\n    `Area..SQM.` = ifelse(is.na(`Area..SQM.`), 0, `Area..SQM.`)\n  )\n\ndata_cleaned &lt;- data_cleaned %&gt;%\n  mutate(\n    Area_Category = cut(\n      `Area..SQM.`,\n      breaks = c(0, 100, 200, 300, 400, Inf),  \n      labels = c(\"&lt;100\", \"100-200\", \"200-300\", \"300-400\", \"&gt;400\"),\n      include.lowest = TRUE  \n    )\n  )"
  },
  {
    "objectID": "Take-home_Ex/Take-home_Exercise1/Take-home_Exercise1.html#exploratory-data-analysis",
    "href": "Take-home_Ex/Take-home_Exercise1/Take-home_Exercise1.html#exploratory-data-analysis",
    "title": "Take-home Exercise 1",
    "section": "",
    "text": "Sale Date:\nThe Sale.Date variable is crucial in housing price analysis for monitoring temporal patterns. It allows analysts to track how prices change over time, revealing trends that may correspond to economic conditions, interest rates, or seasonal fluctuations. By examining the Sale.Date, one can also discern if there are particular times of the year when the market peaks or dips, which can be invaluable for both buyers looking for the best deal and sellers aiming for the optimal listing period.\nArea and Unit Price:\nOn the other hand, Area..SQM. and Unit.Price….PSM. provide spatial and valuation metrics, respectively. The area of a property, often measured in square meters, directly influences its utility and potential for future modifications, affecting its market value. The unit price per square meter standardizes property values, making it possible to compare homes of different sizes and locations fairly. This metric is essential to understand what drives value in the housing market and to identify whether buyers are getting a reasonable price for the area they are purchasing in.\n\nlibrary(tidyverse)\nlibrary(lubridate)\nlibrary(ggplot2)\n\ndata_q1 &lt;- data_cleaned %&gt;%\n  filter(`Sale.Date` &gt;= ymd(\"2024-01-01\"), `Sale.Date` &lt;= ymd(\"2024-03-31\")) %&gt;%\n  mutate(Month = floor_date(`Sale.Date`, \"month\"))\n\navg_price_by_area &lt;- data_q1 %&gt;%\n  group_by(Area_Category, `Sale.Date`) %&gt;%\n  summarise(Avg_Unit_Price_PSM = mean(`Unit.Price....PSM.`, na.rm = TRUE), .groups = \"drop\") # 确保列名正确\n\np_line &lt;- ggplot(avg_price_by_area, aes(x = `Sale.Date`, y = Avg_Unit_Price_PSM, group = Area_Category, color = Area_Category)) +\n  geom_line() +\n  labs(title = \"Daily Average Unit Price ($ PSM) by Area Category (Q1 2024)\",\n       x = \"Date\",\n       y = \"Average Price ($ PSM)\") +\n  theme_minimal() +\n  theme(axis.text.x = element_text(angle = 45, hjust = 1),\n        legend.position = \"bottom\")\n\np_box &lt;- ggplot(data_q1, aes(x = Area_Category, y = `Unit.Price....PSM.`, fill = Area_Category)) +\n  geom_boxplot() +\n  geom_jitter(width = 0.2, alpha = 0.5) +  # 添加点\n  facet_wrap(~Month, scales = \"free_y\") +\n  labs(title = \"Monthly Unit Price ($ PSM) by Area Category (Q1 2024)\",\n       x = \"Area Category\",\n       y = \"Price ($ PSM)\") +\n  theme_minimal() +\n  theme(legend.position = \"bottom\",\n        axis.text.x = element_text(angle = 45, hjust = 1))\n\n\n\nlibrary(patchwork)\np_combined &lt;- p_line / p_box\n\np_combined\n\n\n\n\n\n\n\n\nThe line chart shows daily price volatility in property sizes, with larger areas (&gt;400) being more stable than smaller ones. The overlapping lines suggest a general market trend affecting all sizes. The box plot indicates a quarterly increase in median prices across all categories, with a clear premium for larger properties and greater variability in March, hinting at dynamic market changes as the quarter progresses.\n\n\n\nProject Name:\nThe variable Project.Name represents the specific housing development or project. Analyzing data by Project.Name allows for a detailed understanding of the popularity and demand for specific developments. This can highlight developers’ reputation, location desirability, and unique features of individual projects that may influence prices. Trends can emerge, such as certain developers commanding premium prices or projects in specific locations being more sought-after.\nTotal Units and Avg Unit Price PSM:\nTotal_Units and Avg_Unit_Price_PSM are key metrics for assessing supply and value. Total_Units sold provides insight into the scale of a project and its market absorption rate. High sales volumes can indicate high demand or effective pricing strategies, while low volumes may signal overpricing or less desirable attributes. Avg_Unit_Price_PSM (average unit price per square meter) offers a comparative value indicator that normalizes prices across different sizes and types of properties, reflecting the price point at which the market clears. Analyzing this alongside Total_Units can reveal if there’s a relationship between the number of units sold and the price points, potentially guiding future development and pricing strategies.\n\nproject_stats &lt;- data_cleaned %&gt;%\n  filter(`Project.Name` != \"N.A.\") %&gt;%  \n  group_by(`Project.Name`) %&gt;%\n  summarise(Total_Units = sum(`Number.of.Units`, na.rm = TRUE),\n            Avg_Unit_Price_PSM = mean(`Unit.Price....PSM.`, na.rm = TRUE)) %&gt;%\n  ungroup()\n\ntop_projects &lt;- project_stats %&gt;%\n  top_n(25, Total_Units) %&gt;%\n  arrange(desc(Total_Units))\n\np &lt;- ggplot(top_projects, aes(x = reorder(`Project.Name`, Total_Units))) +\n  geom_bar(aes(y = Total_Units), stat = \"identity\", fill = 'steelblue') +\n  scale_y_continuous(name = \"Total Number of Units\", \n                     sec.axis = sec_axis(~ . / max(top_projects$Avg_Unit_Price_PSM, na.rm = TRUE) * max(top_projects$Total_Units, na.rm = TRUE), \n                                         name = \"Average Unit Price ($ PSM)\")) +\n  geom_line(aes(y = Avg_Unit_Price_PSM / max(top_projects$Avg_Unit_Price_PSM, na.rm = TRUE) * max(top_projects$Total_Units, na.rm = TRUE), group = 1), color = 'darkorange', size = 1) +\n  geom_point(aes(y = Avg_Unit_Price_PSM / max(top_projects$Avg_Unit_Price_PSM, na.rm = TRUE) * max(top_projects$Total_Units, na.rm = TRUE)), color = 'darkorange', size = 3) +\n  labs(title = \"Top 25 Projects by Transaction Volume and Average Price PSM in Singapore (Q1 2024)\",\n       x = \"Project Name\") +\n  theme_minimal() +\n  theme(axis.text.x = element_text(angle = 90, hjust = 1, vjust = 0.5),\n        plot.title = element_text(hjust = 0.5),\n        legend.position = \"none\")\n\nprint(p)\n\n\n\n\n\n\n\n\nThis combined bar and line chart, “Top 25 Projects by Transaction Volume and Average Price PSM in Singapore (Q1 2024)”, plots transaction volumes and average prices for the top 25 real estate projects. The bars represent the total number of units sold per project, while the line indicates the average unit price per square meter (PSM). A noticeable trend is that higher transaction volumes don’t necessarily correlate with higher prices; some projects with substantial sales have moderate prices, suggesting a preference for affordability or other value propositions. Projects like “GRAND RESIDENCES” and “THE RESERVE RESIDENCES” command higher prices despite lower sales volumes, which may indicate a luxury positioning. Conversely, projects with high volume, such as “TREASURE AT TAMPINES”, show more affordability.\n\n\n\nPurchaser Address Indicator:\nThe Purchaser.Address.Indicator variable is likely used to categorize where the buyers are coming from, such as local or international addresses. This information is pivotal for understanding market segmentation. Local and international buyers might have different purchasing powers or preferences, influencing market dynamics. A surge in international buyers, for example, could drive up prices in certain areas or projects, indicating a trend that could be of interest to developers and policy-makers.\nType of Sale:\nType.of.Sale can refer to various forms of property transactions, such as new sales from developers, resales of existing units, or sales of foreclosed properties. Each type of sale can have different implications on the market; for instance, new sales reflect current developer activity and consumer demand for new projects, whereas resales might indicate the liquidity and long-term value in the secondary market. Understanding the proportion and trends in these sales types can provide insights into overall market health and sentiment.\n\ndata_cleaned &lt;- data_cleaned %&gt;%\n  mutate(`Purchaser.Address.Indicator` = as.character(`Purchaser.Address.Indicator`)) %&gt;%\n  filter(`Purchaser.Address.Indicator` != \"N.A.\" & `Purchaser.Address.Indicator` != \"N.A\")\n\ndata_q1 &lt;- data_cleaned %&gt;%\n  filter(`Sale.Date` &gt;= ymd(\"2024-01-01\") & `Sale.Date` &lt;= ymd(\"2024-03-31\"))\n\ndata_q1 &lt;- data_q1 %&gt;%\n  mutate(\n    Area_Cat = case_when(\n      `Area..SQM.` &lt; 100 ~ \"&lt;100\",\n      `Area..SQM.` &gt;= 100 & `Area..SQM.` &lt; 200 ~ \"100-200\",\n      `Area..SQM.` &gt;= 200 & `Area..SQM.` &lt; 300 ~ \"200-300\",\n      `Area..SQM.` &gt;= 300 & `Area..SQM.` &lt; 400 ~ \"300-400\",\n      `Area..SQM.` &gt;= 400 ~ \"&gt;400\"\n    )\n  ) %&gt;%\n  group_by(Area_Cat, `Type.of.Sale`, `Purchaser.Address.Indicator`) %&gt;%\n  summarise(\n    Number_of_Sales = n(),\n    Avg_Price = mean(`Unit.Price....PSM.`, na.rm = TRUE),\n    .groups = 'drop'  \n  ) %&gt;%\n  mutate(Avg_Price_Scaled = Avg_Price / max(Avg_Price) * max(Number_of_Sales))  # 缩放平均价格\n\np &lt;- ggplot(data_q1, aes(x = Area_Cat, y = Number_of_Sales, fill = `Purchaser.Address.Indicator`)) +\n  geom_bar(stat = \"identity\", position = position_dodge()) +\n  geom_line(aes(y = Avg_Price_Scaled, group = `Purchaser.Address.Indicator`, color = `Purchaser.Address.Indicator`), size = 1) +\n  geom_point(aes(y = Avg_Price_Scaled, color = `Purchaser.Address.Indicator`), size = 2) +\n  scale_y_continuous(\n    name = \"Number of Sales\",\n    sec.axis = sec_axis(~ . / max(data_q1$Number_of_Sales) * max(data_q1$Avg_Price), name = \"Average Price ($ PSM)\")\n  ) +\n  labs(title = \"Distribution of Sales by Area Category, Type, and Purchaser Address Indicator (Q1 2024)\",\n       x = \"Area Category (SQM)\",\n       y = \"Number of Sales\") +\n  scale_fill_brewer(palette = \"Set1\") +\n  theme_minimal() +\n  theme(\n    axis.text.x = element_text(angle = 45, hjust = 1),\n    legend.position = \"bottom\"\n  )\n\n\nprint(p)\n\n\n\n\n\n\n\n\nThe chart “Distribution of Sales by Area Category, Type, and Purchaser Address Indicator (Q1 2024)” shows that smaller units (&lt;100 SQM) have high sales volumes, especially for HDB, indicating a demand for affordable housing. In contrast, units over 300 SQM, likely luxury properties, show fewer sales but much higher prices, pointing to a niche market for upscale residences. The data suggests a market divided between high-volume, cost-effective housing and low-volume, high-priced luxury segments."
  },
  {
    "objectID": "Take-home_Ex/Take-home_Exercise1/Take-home_Exercise1.html#conclusion",
    "href": "Take-home_Ex/Take-home_Exercise1/Take-home_Exercise1.html#conclusion",
    "title": "Take-home Exercise 1",
    "section": "",
    "text": "In the illustrated housing market, several key factors should guide consumer decisions. The transaction data, segmented by Sale.Date, indicates that property prices fluctuate over time, suggesting that buyers could benefit from understanding seasonal price trends. The Area..SQM. and Unit.Price….PSM. metrics reveal that while larger properties generally command higher per-square-meter prices, there are affordable options in smaller-sized units, which have high transaction volumes. This points to a viable market for buyers seeking budget-friendly housing.\nAdditionally, the diversity in Project.Name and corresponding Total_Units and Avg_Unit_Price_PSM suggests a range of investment opportunities from high-end luxury developments to more modest projects, suitable for different buyer profiles. The Purchaser.Address.Indicator shows an active participation of both local and international buyers, affecting competitiveness and price dynamics. Finally, the Type.of.Sale (new sales, resales) can influence pricing and availability, informing buyers about the market’s liquidity and potential long-term value of properties. Consumers must analyze these aspects to make informed decisions that align with their housing needs and financial capabilities in a competitive market."
  },
  {
    "objectID": "In-class_Ex/In-class_Ex04.html",
    "href": "In-class_Ex/In-class_Ex04.html",
    "title": "In-class Exercise 4",
    "section": "",
    "text": "pacman::p_load(tidyverse, ggstatsplot)\n\n\nexam &lt;- read_csv(\"data/Exam_data.csv\")\n\n\nset.seed(1234)\n\ngghistostats(\n  data = exam,\n  x = ENGLISH,\n  type = \"parametric\",\n  test.value = 60,\n  bin.args = list(color = \"black\", \n                  fill = \"grey50\", \n                  alpha = 0.7),\n  normal.curve = FALSE,\n  normal.curve.args = list(linewidth = 2),\n  xlab = \"English scores\"\n)\n\n\n\n\n\n\n\n\n\nggdotplotstats(\n  data = exam,\n  x = ENGLISH,\n  y = CLASS,\n  title = \"Fuel economy data\",\n  xlab = \"city miles per gallon\"\n)\n\n\n\n\n\n\n\n\n\nggbetweenstats(\n  data = exam,\n  x = GENDER, \n  y = MATHS,\n  type = \"p\",\n  messages = FALSE\n)\n\n\n\n\n\n\n\n\n\nexam_long &lt;- exam %&gt;%\n  pivot_longer(\n    cols = ENGLISH:SCIENCE,\n    names_to = \"SUBJECT\",\n    values_to = \"SCORES\") %&gt;%\n  filter(CLASS == \"3A\")\n\n\nggwithinstats(\n  data = filter(exam_long, \n                SUBJECT %in% \n                  c(\"MATHS\", \"SCIENCE\")),\n  x    = SUBJECT,\n  y    = SCORES,\n  type = \"p\"\n)\n\n\n\n\n\n\n\n\n\nggscatterstats(\n  data = exam,\n  x = MATHS,\n  y = ENGLISH,\n  marginal = TRUE,\n  label.var = ID,\n  label.expression = ENGLISH &gt; 90 & MATHS &gt; 90,\n  )\n\n\n\n\n\n\n\n\n\nwp &lt;- read_csv(\"data/WHData-2018.csv\")\n\n\nggcorrmat(\n  data = wp, \n  cor.vars = Dystopia:\"Perceptions of corruption\")"
  },
  {
    "objectID": "In-class_Ex/In-class_Ex02.html#content",
    "href": "In-class_Ex/In-class_Ex02.html#content",
    "title": "In-class Exercise 2: Visualising Distribution",
    "section": "Content",
    "text": "Content"
  },
  {
    "objectID": "In-class_Ex/In-class_Ex02.html#getting-started",
    "href": "In-class_Ex/In-class_Ex02.html#getting-started",
    "title": "In-class Exercise 2: Visualising Distribution",
    "section": "Getting Started",
    "text": "Getting Started\nLoading R packages\n\nThe taskThe code\n\n\nIn this hands-on exercise, the following R packages will be used: tidyverse, ggdist and ggthemes. Using the method you learned in previous lesson, load the R packages into RStudio environment.\n\n\n\npacman::p_load(tidyverse, ggdist, ggridges,\n               colorspace, ggthemes)\n\nBefore we move on to the next step, it is always a good practice to visit\n\n\n\nImporting the data\n\nThe taskThe code\n\n\nFor the purpose of this Exam_data.csv will be used. Using the step you learned in previous lesson, import Exam_data.csv into RStudio as a tibble data.frame.\n\n\n\nexam_df &lt;- read_csv(\"data/Exam_data.csv\")"
  },
  {
    "objectID": "In-class_Ex/In-class_Ex02.html#visualising-distribution",
    "href": "In-class_Ex/In-class_Ex02.html#visualising-distribution",
    "title": "In-class Exercise 2: Visualising Distribution",
    "section": "Visualising Distribution",
    "text": "Visualising Distribution\nHistogram\n\nThe taskThe code\n\n\nUsing the step you learned, build a histogram as shown below.\n\n\n\n\n\n\n\n\n\n\n\n\nggplot(data=exam_df, \n       aes(x = ENGLISH)) +\n  geom_histogram(color = \"black\",\n                 fill = \"light blue\")"
  },
  {
    "objectID": "In-class_Ex/In-class_Ex02.html#visualising-distribution-with-ridgeline-plot",
    "href": "In-class_Ex/In-class_Ex02.html#visualising-distribution-with-ridgeline-plot",
    "title": "In-class Exercise 2: Visualising Distribution",
    "section": "Visualising Distribution with Ridgeline Plot",
    "text": "Visualising Distribution with Ridgeline Plot\n\n\n\nRidgeline plot (sometimes called Joyplot) is a data visualisation technique for revealing the distribution of a numeric value for several groups. Distribution can be represented using histograms or density plots, all aligned to the same horizontal scale and presented with a slight overlap.\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nNote\n\n\n\nRidgeline plots make sense when the number of group to represent is medium to high, and thus a classic window separation would take too much space. Indeed, the fact that groups overlap each other allows to use space more efficiently. If you have less than 5 groups, dealing with other distribution plots is probably better.\nIt works well when there is a clear pattern in the result, like if there is an obvious ranking in groups. Otherwise group will tend to overlap each other, leading to a messy plot not providing any insight."
  },
  {
    "objectID": "In-class_Ex/In-class_Ex02.html#visualising-distribution-and-summary-statistics-boxplot-method",
    "href": "In-class_Ex/In-class_Ex02.html#visualising-distribution-and-summary-statistics-boxplot-method",
    "title": "In-class Exercise 2: Visualising Distribution",
    "section": "Visualising Distribution and Summary Statistics: Boxplot method",
    "text": "Visualising Distribution and Summary Statistics: Boxplot method\n\nThe taskThe code\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nggplot(data = exam_df,\n       aes(y = ENGLISH,\n           x = RACE)) +\n  geom_boxplot()"
  },
  {
    "objectID": "In-class_Ex/In-class_Ex02.html#visualising-distribution-and-summary-statistics",
    "href": "In-class_Ex/In-class_Ex02.html#visualising-distribution-and-summary-statistics",
    "title": "In-class Exercise 2: Visualising Distribution",
    "section": "Visualising Distribution and Summary Statistics",
    "text": "Visualising Distribution and Summary Statistics\nViolin plot method\n\nThe taskThe code\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nggplot(data = exam_df,\n       aes(y = ENGLISH,\n           x = RACE)) +\n  geom_violin()"
  },
  {
    "objectID": "In-class_Ex/In-class_Ex02.html#introducing-raincloud-plot",
    "href": "In-class_Ex/In-class_Ex02.html#introducing-raincloud-plot",
    "title": "In-class Exercise 2: Visualising Distribution",
    "section": "Introducing Raincloud Plot",
    "text": "Introducing Raincloud Plot\nThe raincloud plot combines a ‘split-half violin’ (an un-mirrored PDF plotted against the redundant data axis), raw jittered data points, and a standard visualization of central tendency (i.e., mean or median) and error, such as a boxplot."
  },
  {
    "objectID": "about.html",
    "href": "about.html",
    "title": "About",
    "section": "",
    "text": "About this site\n\n1 + 1\n\n[1] 2"
  },
  {
    "objectID": "In-class_Ex/In-class_Ex02a.html",
    "href": "In-class_Ex/In-class_Ex02a.html",
    "title": "In-class Exercise 2",
    "section": "",
    "text": "DIY\n\n\n\nTo getting started, you the step you learned in previous lesson, load tidyverse, ggdist and ggthemes R packages into RStudio environment.\npacman::p_load(tidyverse, ggdist, ggthemes)\nBefore we move on to the next step, it is always a good practice to visit\nexam_df &lt;- read_csv(\"data/Exam_data.csv\")\nggplot(data=exam_df, \n       aes(x = ENGLISH)) +\n  geom_histogram(color = \"black\",\n                 fill = \"light blue\")\nggplot(exam_df, \n       aes(x = ENGLISH)) +\n  geom_density(\n    color = \"#1696d2\",\n    adjust = .65,\n    alpha = .6\n  )\nmedian_eng &lt;- median(exam_df$ENGLISH)\nmean_eng &lt;- mean(exam_df$ENGLISH)\nstd_eng &lt;- sd(exam_df$ENGLISH)\n\nggplot(exam_df, \n       aes(x = ENGLISH)) +\n  geom_density(\n    color = \"#1696d2\",\n    adjust = .65,\n    alpha = .6) +\n  stat_function(\n    fun = dnorm,\n    args = list(mean = mean_eng,\n                sd = std_eng),\n    col = \"grey30\",\n    size = .8) +\n  geom_vline(\n    aes(xintercept = mean_eng),\n    colour=\"#4d5887\", \n    linewidth = .6, \n    linetype = \"dashed\") +\n  annotate(geom = \"text\", \n           x = mean_eng - 8, \n           y = 0.04,\n           label = paste0(\"Mean ENGLISH: \",\n                          round((mean_eng), 2)),\n           color = \"#4d5887\") +\n  geom_vline(\n    aes(xintercept = median_eng),\n    colour = \"#00AFBB\", \n    linewidth = .6, \n    linetype = \"dashed\") +\n  annotate(geom = \"text\", \n           x = median_eng + 8, \n           y = 0.04,\n           label = paste0(\"Median ENGLISH: \", \n                   round((median_eng),2)),\n    color = \"#00AFBB\") +\n  labs(\n    title = \"Uneven Distribution of ENGLISH Score across Participants\",\n    subtitle = \"Median ENGLISH score is close to Mean score, but distribution density reveals multiple peaks and troughs\",\n    x = \"ENGLISH Score\") +\n  theme(\n    axis.title.y = element_blank(),\n    axis.text.y = element_blank(),\n    panel.grid.major = element_blank(),\n    plot.background = element_rect(\n      fill=\"#F8F3E6\",\n      colour=\"#F8F3E6\")\n  )"
  },
  {
    "objectID": "In-class_Ex/In-class_Ex02a.html#visualising-distribution",
    "href": "In-class_Ex/In-class_Ex02a.html#visualising-distribution",
    "title": "In-class Exercise 2",
    "section": "Visualising Distribution",
    "text": "Visualising Distribution\n\nggplot(data = exam_df,\n       aes(y = ENGLISH,\n           x = RACE)) +\n  geom_boxplot()\n\n\n\n\n\n\n\n\n\n## function to return median and labels\nn_fun &lt;- function(x){\n  return(data.frame(y = median(x) + 2.5, \n                    label = paste0(\"n = \",length(x))))\n}\n\nggplot(data = exam_df,\n       aes(y = ENGLISH,\n           x = RACE)) +\n  geom_boxplot() +\n  stat_summary(\n    geom = \"text\",\n    fun.data = n_fun,\n    size = 3.5)\n\n\n\n\n\n\n\n\n\nggplot(data = exam_df,\n       aes(y = ENGLISH,\n           x = RACE)) +\n  geom_boxplot(fill = \"light blue\", \n               varwidth = TRUE)\n\n\n\n\n\n\n\n\n\nPlotting a Half Eye graph\nFirst, we will plot a Half-Eye graph by using stat_halfeye() of ggdist package.\nThis produces a Half Eye visualization, which is contains a half-density and a slab-interval.\n\nThe plotThe code chunk\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nggplot(exam_df, \n       aes(x = RACE, \n           y = ENGLISH)) +\n  stat_halfeye(adjust = 0.5,\n               justification = -0.2,\n               .width = 0,\n               point_colour = NA)\n\n\n\n\n\n\n\nThings to learn from the code chunk above\n\n\n\nWe remove the slab interval by setting .width = 0 and point_colour = NA.\n\n\n\n\n\n\n\nAdding the boxplot with geom_boxplot()\nNext, we will add the second geometry layer using geom_boxplot() of ggplot2. This produces a narrow boxplot. We reduce the width and adjust the opacity.\n\nThe plotThe code chunk\n\n\n\nggplot(exam_df, \n       aes(x = RACE, \n           y = ENGLISH)) +\n  stat_halfeye(adjust = 0.5,\n               justification = -0.2,\n               .width = 0,\n               point_colour = NA) +\n  geom_boxplot(width = .20,\n               outlier.shape = NA)\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nAdding the Dot Plots with stat_dots()\nNext, we will add the third geometry layer using stat_dots() of ggdist package. This produces a half-dotplot, which is similar to a histogram that indicates the number of samples (number of dots) in each bin. We select side = “left” to indicate we want it on the left-hand side.\n\nThe plotThe code chunk\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nggplot(exam_df, \n       aes(x = RACE, \n           y = ENGLISH)) +\n  stat_halfeye(adjust = 0.5,\n               justification = -0.2,\n               .width = 0,\n               point_colour = NA) +\n  geom_boxplot(width = .20,\n               outlier.shape = NA) +\n  stat_dots(side = \"left\", \n            justification = 1.2, \n            binwidth = .5,\n            dotsize = 2)\n\n\n\n\n\n\nFinishing touch\nLastly, coord_flip() of ggplot2 package will be used to flip the raincloud chart horizontally to give it the raincloud appearance. At the same time, theme_economist() of ggthemes package is used to give the raincloud chart a professional publishing standard look.\n\nThe plotThe code chunk\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nggplot(exam_df, \n       aes(x = RACE, \n           y = ENGLISH)) +\n  stat_halfeye(adjust = 0.5,\n               justification = -0.2,\n               .width = 0,\n               point_colour = NA) +\n  geom_boxplot(width = .20,\n               outlier.shape = NA) +\n  stat_dots(side = \"left\", \n            justification = 1.2, \n            binwidth = .5,\n            dotsize = 1.5) +\n  coord_flip() +\n  theme_economist()\n\n\n\n\n\nggplot(data = exam_df,\n       aes(x = ENGLISH,\n           y = MATHS)) + \n  geom_point()"
  },
  {
    "objectID": "In-class_Ex/In-class_Ex05.html",
    "href": "In-class_Ex/In-class_Ex05.html",
    "title": "In-class Exercise 5",
    "section": "",
    "text": "pacman::p_load(tidytext, widyr, wordcloud, DT,\n               ggwordcloud, textplot, lubridate,\n               hms, tidyverse)\n\n\nnews20 &lt;- \"data/20news/\"\n\n\nread_folder &lt;- function(infolder){\n  tibble(file = dir(infolder,\n                    full.names = TRUE)) %&gt;%\n    mutate(text=map(file,\n                    read_lines)) %&gt;%\n    transmute(id = basename(file),\n              text) %&gt;%\n    unnest(text)\n}\n\n\nraw_text &lt;- tibble(\n  folder = dir(news20,\n               full.names = TRUE)) %&gt;%\n  mutate(folder_out = map(\n    folder,\n    read_folder)) %&gt;%\n  unnest(cols = c(folder_out)) %&gt;%\n  transmute(newsgroup = basename(folder),\n            id, text)\n\n\nwrite_rds(raw_text, \n          \"data/rds/new20.rds\")\n\n\nread_rds(\"data/rds/new20.rds\")\n\n# A tibble: 7,601 × 3\n   newsgroup   id    text                                                       \n   &lt;chr&gt;       &lt;chr&gt; &lt;chr&gt;                                                      \n 1 alt.atheism 54256 \"From: salem@pangea.Stanford.EDU (Bruce Salem)\"            \n 2 alt.atheism 54256 \"Subject: Re: Science and theories\"                        \n 3 alt.atheism 54256 \"Organization: Stanford Univ. Earth Sciences\"              \n 4 alt.atheism 54256 \"Lines: 42\"                                                \n 5 alt.atheism 54256 \"NNTP-Posting-Host: pangea.stanford.edu\"                   \n 6 alt.atheism 54256 \"\"                                                         \n 7 alt.atheism 54256 \"In article &lt;C5u7Bq.J43@news.cso.uiuc.edu&gt; cobb@alexia.lis…\n 8 alt.atheism 54256 \"&gt;As per various threads on science and creationism, I've …\n 9 alt.atheism 54256 \"&gt;book called Christianity and the Nature of Science by JP…\n10 alt.atheism 54256 \"\"                                                         \n# ℹ 7,591 more rows\n\n\n\nraw_text %&gt;%\n  group_by(newsgroup) %&gt;%\n  summarise(messages = n_distinct(id)) %&gt;%\n  ggplot(aes(messages, newsgroup)) +\n  geom_col(fill = \"lightblue\") +\n  labs(y = NULL)\n\n\n\n\n\n\n\n\n\ncleaned_text &lt;- raw_text %&gt;%\n  group_by(newsgroup, id) %&gt;%\n  filter(cumsum(text == \"\") &gt; 0,\n         cumsum(str_detect(\n           text, \"^--\")) == 0) %&gt;%\n  ungroup()\n\n\ncleaned_text &lt;- cleaned_text %&gt;%\n  filter(str_detect(\n    text, \"^[^&gt;]+[A-Za-z\\\\d]\")\n    |text == \"\",\n    !str_detect(\n      text, \"writes(:|\\\\.\\\\.\\\\.)$\"),\n    !str_detect(\n      text, \"^In article &lt;\"\n    )\n)\n\n\nusenet_words &lt;- cleaned_text %&gt;%\n  unnest_tokens(word, text) %&gt;%\n  filter(str_detect(word, \"[a-z']$\"))"
  },
  {
    "objectID": "index.html",
    "href": "index.html",
    "title": "ISSS608-VAA",
    "section": "",
    "text": "Welcome to my learning journey of ISSS608 Visual Analytic and Applications"
  }
]